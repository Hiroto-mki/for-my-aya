<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>For My Valentine ❤️ | Our Song</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffe6f0, #ffccdd);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            padding: 20px;
            transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        body.playing {
            background: linear-gradient(135deg, #ccd9ff, #b3c6ff);
        }
        
        /* Floating hearts background */
        .hearts-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .heart {
            position: absolute;
            color: rgba(255, 105, 180, 0.25);
            font-size: 20px;
            animation: floatUp 15s linear infinite;
            bottom: -50px;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .heart.playing {
            color: rgba(65, 105, 225, 0.25);
        }
        
        .music-note {
            position: absolute;
            color: rgba(255, 105, 180, 0.35);
            font-size: 18px;
            animation: floatNote 10s linear infinite;
            bottom: -30px;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .music-note.playing {
            color: rgba(65, 105, 225, 0.35);
        }
        
        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.5; }
            90% { opacity: 0.5; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }
        
        @keyframes floatNote {
            0% { transform: translateY(0) translateX(0); opacity: 0; }
            10% { opacity: 0.6; }
            90% { opacity: 0.6; }
            100% { transform: translateY(-80vh) translateX(30px); opacity: 0; }
        }
        
        /* Song page container */
        .song-page {
            width: 100%;
            max-width: 1300px;
            padding: 20px;
            animation: fadeIn 0.8s ease-out;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Page title */
        .page-title {
            font-size: 2.3rem;
            color: #ff69b4;
            margin-bottom: 25px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(255, 182, 193, 0.2);
            font-weight: 700;
            animation: slideDown 0.8s ease-out;
            letter-spacing: 2px;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1), text-shadow 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .page-title.playing {
            color: #4169e1;
            text-shadow: 2px 2px 4px rgba(65, 105, 225, 0.2);
        }
        
        @keyframes slideDown {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Main content container */
        .content-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            width: 100%;
            margin-bottom: 30px;
        }
        
        /* Left side - Player */
        .player-side {
            flex: 1;
            min-width: 320px;
            max-width: 550px;
            animation: slideInLeft 1s ease-out;
        }
        
        /* Right side - Lyrics */
        .lyrics-side {
            flex: 1;
            min-width: 320px;
            max-width: 650px;
            animation: slideInRight 1s ease-out;
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideInRight {
            from { transform: translateX(30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* Music player container */
        .player-container {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 25px;
            box-shadow: 0 20px 40px rgba(255, 105, 180, 0.15);
            border: 2px solid rgba(255, 182, 193, 0.4);
            transform: translateY(0);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            margin-bottom: 20px;
        }
        
        .player-container.playing {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 20px 40px rgba(65, 105, 225, 0.2);
            border: 2px solid rgba(65, 105, 225, 0.3);
        }
        
        .player-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(255, 105, 180, 0.2);
        }
        
        .player-container.playing:hover {
            box-shadow: 0 25px 50px rgba(65, 105, 225, 0.25);
        }
        
        /* Album cover slideshow */
        .cover-slideshow {
            position: relative;
            width: 100%;
            aspect-ratio: 1 / 1;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
            margin-bottom: 20px;
            transition: box-shadow 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .cover-slideshow.playing {
            box-shadow: 0 15px 30px rgba(65, 105, 225, 0.25);
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        /* Song info */
        .song-info {
            text-align: center;
            margin-bottom: 15px;
        }
        
        .song-title {
            font-size: 1.9rem;
            color: #d81b60;
            margin-bottom: 5px;
            font-weight: 700;
            letter-spacing: 1px;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .song-title.playing {
            color: #27408b;
        }
        
        .song-artist {
            font-size: 1.2rem;
            color: #888;
            font-weight: 500;
            font-style: italic;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .song-artist.playing {
            color: #5a5a9a;
        }
        
        .song-artist-jp {
            font-size: 1rem;
            color: #a57c8c;
            margin-top: 2px;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .song-artist-jp.playing {
            color: #6a5a8a;
        }
        
        /* Progress bar */
        .progress-container {
            margin: 20px 0 15px;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: #ffccdd;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 8px;
            cursor: pointer;
            position: relative;
            transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .progress-bar.playing {
            background: #c0d0ff;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #ff69b4, #ff8ec7);
            width: 0%;
            border-radius: 3px;
            transition: width 0.1s linear, background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 2;
        }
        
        .progress.playing {
            background: linear-gradient(to right, #4169e1, #6a8cff);
        }
        
        .progress-buffer {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: rgba(255, 105, 180, 0.2);
            width: 0%;
            border-radius: 3px;
            z-index: 1;
            transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .progress-buffer.playing {
            background: rgba(65, 105, 225, 0.2);
        }
        
        .time-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: #888;
            font-weight: 500;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .time-info.playing {
            color: #5a5a9a;
        }
        
        /* Player controls */
        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .control-btn {
            background: linear-gradient(145deg, #ff69b4, #ff8ec7);
            color: white;
            border: none;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 6px 12px rgba(255, 105, 180, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(145deg, #4169e1, #6a8cff);
            opacity: 0;
            transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
        }
        
        .control-btn.playing::before {
            opacity: 1;
        }
        
        .control-btn i {
            position: relative;
            z-index: 2;
        }
        
        .control-btn:hover {
            transform: translateY(-3px) scale(1.08);
            box-shadow: 0 10px 18px rgba(255, 105, 180, 0.35);
        }
        
        .control-btn.playing:hover {
            box-shadow: 0 10px 18px rgba(65, 105, 225, 0.35);
        }
        
        .control-btn:active {
            transform: translateY(0) scale(0.98);
        }
        
        .control-btn.active::before {
            opacity: 0.8;
            background: linear-gradient(145deg, #d81b60, #ff4081);
        }
        
        .control-btn.active.playing::before {
            opacity: 0.8;
            background: linear-gradient(145deg, #002fa7, #4169e1);
        }
        
        .play-pause-btn {
            width: 64px;
            height: 64px;
            font-size: 1.6rem;
        }
        
        /* Volume control */
        .volume-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 182, 193, 0.3);
            transition: border-color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .volume-control.playing {
            border-top: 1px solid rgba(65, 105, 225, 0.3);
        }
        
        .volume-icon {
            color: #ff69b4;
            font-size: 1.1rem;
            width: 24px;
            text-align: center;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .volume-icon.playing {
            color: #4169e1;
        }
        
        .volume-slider {
            flex: 1;
            max-width: 150px;
            height: 5px;
            background: #ffccdd;
            border-radius: 3px;
            overflow: hidden;
            cursor: pointer;
            position: relative;
            transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .volume-slider.playing {
            background: #c0d0ff;
        }
        
        .volume-progress {
            height: 100%;
            background: linear-gradient(to right, #ff69b4, #ff8ec7);
            width: 80%;
            border-radius: 3px;
            transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .volume-progress.playing {
            background: linear-gradient(to right, #4169e1, #6a8cff);
        }
        
        /* Lyrics container */
        .lyrics-container {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(255, 105, 180, 0.15);
            border: 2px solid rgba(255, 182, 193, 0.4);
            height: 550px;
            overflow-y: auto;
            width: 100%;
            scroll-behavior: smooth;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .lyrics-container.playing {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 20px 40px rgba(65, 105, 225, 0.2);
            border: 2px solid rgba(65, 105, 225, 0.3);
        }
        
        .lyrics-title {
            font-size: 1.5rem;
            color: #ff69b4;
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            padding: 15px 0;
            z-index: 10;
            border-bottom: 1px solid rgba(255, 182, 193, 0.3);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .lyrics-title.playing {
            color: #4169e1;
            border-bottom: 1px solid rgba(65, 105, 225, 0.3);
            background: rgba(255, 255, 255, 0.95);
        }
        
        .lyrics-content {
            font-size: 1.05rem;
            color: #4a4a4a;
            line-height: 1.9;
            font-family: 'Georgia', 'Times New Roman', serif;
            text-align: center;
            padding-bottom: 20px;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .lyrics-content.playing {
            color: #3a3a5a;
        }
        
        .lyrics-jp {
            color: #b3708a;
            font-size: 0.95rem;
            margin-top: 5px;
            margin-bottom: 15px;
            font-style: italic;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .lyrics-jp.playing {
            color: #6a5a8a;
        }
        
        .lyrics-stanza {
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(255, 240, 245, 0.3);
            border-radius: 15px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .lyrics-stanza.playing {
            background: rgba(65, 105, 225, 0.05);
        }
        
        .lyrics-stanza:hover {
            background: rgba(255, 182, 193, 0.1);
            transform: scale(1.01);
        }
        
        .lyrics-stanza.playing:hover {
            background: rgba(65, 105, 225, 0.08);
        }
        
        .lyrics-line {
            margin-bottom: 8px;
            font-weight: 400;
        }
        
        .lyrics-line.jp {
            color: #a5486a;
            font-weight: 500;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .lyrics-line.jp.playing {
            color: #4a3a7a;
        }
        
        .lyrics-line.en {
            color: #4a4a4a;
            margin-bottom: 12px;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .lyrics-line.en.playing {
            color: #3a3a6a;
        }
        
        /* Quote section */
        .quote-section {
            margin: 30px 0 20px;
            padding: 20px;
            background: rgba(255, 218, 224, 0.2);
            border-left: 4px solid #ff69b4;
            border-radius: 0 15px 15px 0;
            font-style: italic;
            color: #5a3d5c;
            text-align: left;
            line-height: 1.8;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .quote-section.playing {
            background: rgba(65, 105, 225, 0.08);
            border-left: 4px solid #4169e1;
            color: #3a3a6a;
        }
        
        .quote-jp {
            font-size: 0.95rem;
            color: #b3708a;
            margin-bottom: 10px;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .quote-jp.playing {
            color: #6a5a8a;
        }
        
        /* Personal message */
        .personal-message {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 35px;
            margin-top: 25px;
            box-shadow: 0 15px 35px rgba(255, 105, 180, 0.15);
            border: 2px solid rgba(255, 182, 193, 0.4);
            color: #4a4a4a;
            line-height: 1.9;
            font-size: 1.05rem;
            text-align: left;
            width: 100%;
            animation: fadeInUp 1.2s ease-out;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .personal-message.playing {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 15px 35px rgba(65, 105, 225, 0.2);
            border: 2px solid rgba(65, 105, 225, 0.3);
            color: #3a3a6a;
        }
        
        .message-title {
            color: #ff69b4;
            font-weight: 600;
            margin-bottom: 20px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .message-title.playing {
            color: #4169e1;
        }
        
        .message-title i {
            color: #ff69b4;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .message-title.playing i {
            color: #4169e1;
        }
        
        /* Exit button */
        .exit-btn {
            background: linear-gradient(to right, #ff69b4, #ff8ec7);
            color: white;
            border: none;
            padding: 16px 45px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 20px rgba(255, 105, 180, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            text-decoration: none;
            margin-top: 35px;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }
        
        .exit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to right, #4169e1, #6a8cff);
            opacity: 0;
            transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
        }
        
        .exit-btn.playing::before {
            opacity: 1;
        }
        
        .exit-btn i, .exit-btn span {
            position: relative;
            z-index: 2;
        }
        
        .exit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(255, 105, 180, 0.4);
        }
        
        .exit-btn.playing:hover {
            box-shadow: 0 12px 25px rgba(65, 105, 225, 0.4);
        }
        
        .exit-btn:active {
            transform: translateY(0);
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Scrollbar styling */
        .lyrics-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .lyrics-container::-webkit-scrollbar-track {
            background: #ffe6f0;
            border-radius: 4px;
            transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .lyrics-container.playing::-webkit-scrollbar-track {
            background: #e0e6ff;
        }
        
        .lyrics-container::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, #ff69b4, #ff8ec7);
            border-radius: 4px;
            transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .lyrics-container.playing::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, #4169e1, #6a8cff);
        }
        
        .lyrics-container::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, #ff4081, #ff69b4);
        }
        
        .lyrics-container.playing::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, #27408b, #4169e1);
        }
        
        /* Music visualizer */
        .music-wave {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 30px;
            gap: 4px;
            margin: 15px 0 5px;
        }
        
        .wave-bar {
            width: 4px;
            background: linear-gradient(to top, #ff69b4, #ff8ec7);
            border-radius: 2px;
            animation: waveMove 1.2s ease-in-out infinite alternate;
            transition: background 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .wave-bar.playing {
            background: linear-gradient(to top, #4169e1, #6a8cff);
        }
        
        @keyframes waveMove {
            from { height: 4px; }
            to { height: 25px; }
        }
        
        .wave-bar:nth-child(1) { animation-delay: 0s; }
        .wave-bar:nth-child(2) { animation-delay: 0.15s; }
        .wave-bar:nth-child(3) { animation-delay: 0.3s; }
        .wave-bar:nth-child(4) { animation-delay: 0.45s; }
        .wave-bar:nth-child(5) { animation-delay: 0.6s; }
        .wave-bar:nth-child(6) { animation-delay: 0.75s; }
        .wave-bar:nth-child(7) { animation-delay: 0.9s; }
        .wave-bar:nth-child(8) { animation-delay: 1.05s; }
        
        /* Decorative elements */
        .decoration-hearts {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 15px 0 10px;
        }
        
        .decoration-heart {
            color: #ff69b4;
            font-size: 1.1rem;
            animation: heartbeat 1.8s infinite;
            transition: color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .decoration-heart.playing {
            color: #4169e1;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        /* Mobile optimizations */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .song-page {
                padding: 10px;
            }
            
            .content-container {
                gap: 20px;
            }
            
            .player-side, .lyrics-side {
                min-width: 100%;
            }
            
            .page-title {
                font-size: 2rem;
                margin-bottom: 15px;
            }
            
            .song-title {
                font-size: 1.7rem;
            }
            
            .player-container {
                padding: 20px;
            }
            
            .lyrics-container {
                height: 450px;
                padding: 20px;
            }
            
            .personal-message {
                padding: 25px;
            }
            
            .control-btn {
                width: 44px;
                height: 44px;
            }
            
            .play-pause-btn {
                width: 58px;
                height: 58px;
            }
        }
        
        @media (max-width: 480px) {
            .page-title {
                font-size: 1.8rem;
            }
            
            .song-title {
                font-size: 1.5rem;
            }
            
            .song-artist {
                font-size: 1rem;
            }
            
            .lyrics-container {
                height: 400px;
                padding: 15px;
            }
            
            .lyrics-title {
                font-size: 1.3rem;
            }
            
            .personal-message {
                padding: 20px;
                font-size: 0.95rem;
            }
            
            .exit-btn {
                padding: 14px 35px;
                font-size: 1.1rem;
                width: 100%;
            }
            
            .player-controls {
                gap: 15px;
            }
            
            .control-btn {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .play-pause-btn {
                width: 52px;
                height: 52px;
                font-size: 1.4rem;
            }
        }
        
        /* Landscape mode */
        @media (max-height: 600px) and (orientation: landscape) {
            .content-container {
                flex-direction: row;
            }
            
            .player-side, .lyrics-side {
                min-width: 45%;
            }
            
            .lyrics-container {
                height: 350px;
            }
            
            .personal-message {
                margin-top: 15px;
            }
        }
        
        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            .control-btn:hover {
                transform: none;
            }
            
            .control-btn:active {
                transform: scale(0.95);
            }
            
            .player-container:hover {
                transform: translateY(0);
            }
            
            .exit-btn:hover {
                transform: translateY(0);
            }
            
            .exit-btn:active {
                transform: translateY(-2px);
            }
        }
        
        /* Smooth transitions for all interactive elements */
        button, a, .slide, .option-gif, * {
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body>
    <!-- Floating hearts background -->
    <div class="hearts-container" id="heartsContainer"></div>
    
    <div class="song-page">
        <h1 class="page-title" id="pageTitle">Our Song ❤️</h1>
        
        <div class="content-container">
            <!-- Left side - Music Player -->
            <div class="player-side">
                <div class="player-container" id="playerContainer">
                    <!-- Album cover slideshow -->
                    <div class="cover-slideshow" id="coverSlideshow">
                        <img class="slide active" src="1.jpg" alt="Memory 1">
                        <img class="slide" src="2.jpg" alt="Memory 2">
                        <img class="slide" src="3.jpg" alt="Memory 3">
                        <img class="slide" src="4.jpg" alt="Memory 4">
                        <img class="slide" src="5.jpg" alt="Memory 5">
                        <img class="slide" src="6.jpg" alt="Memory 6">
                        <img class="slide" src="7.jpg" alt="Memory 7">
                        <img class="slide" src="8.jpg" alt="Memory 8">
                        <img class="slide" src="9.jpg" alt="Memory 9">
                    </div>
                    
                    <!-- Song info -->
                    <div class="song-info">
                        <div class="song-title" id="songTitle">I am</div>
                        <div class="song-artist" id="songArtist">Atarayo</div>
                        <div class="song-artist-jp" id="songArtistJp">アタラヨ</div>
                    </div>
                    
                    <!-- Decorative hearts -->
                    <div class="decoration-hearts" id="decorationHearts">
                        <div class="decoration-heart">❤</div>
                        <div class="decoration-heart">❤</div>
                        <div class="decoration-heart">❤</div>
                    </div>
                    
                    <!-- Progress bar -->
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar">
                            <div class="progress-buffer" id="progressBuffer"></div>
                            <div class="progress" id="progress"></div>
                        </div>
                        <div class="time-info" id="timeInfo">
                            <span id="currentTime">0:00</span>
                            <span id="duration">3:45</span>
                        </div>
                    </div>
                    
                    <!-- Music visualizer -->
                    <div class="music-wave" id="musicWave">
                        <div class="wave-bar" id="wave1"></div>
                        <div class="wave-bar" id="wave2"></div>
                        <div class="wave-bar" id="wave3"></div>
                        <div class="wave-bar" id="wave4"></div>
                        <div class="wave-bar" id="wave5"></div>
                        <div class="wave-bar" id="wave6"></div>
                        <div class="wave-bar" id="wave7"></div>
                        <div class="wave-bar" id="wave8"></div>
                    </div>
                    
                    <!-- Player controls -->
                    <div class="player-controls">
                        <button class="control-btn" id="repeatBtn" title="Repeat">
                            <i class="fas fa-redo"></i>
                        </button>
                        
                        <button class="control-btn" id="prevBtn" title="Previous">
                            <i class="fas fa-step-backward"></i>
                        </button>
                        
                        <button class="control-btn play-pause-btn" id="playPauseBtn" title="Play">
                            <i class="fas fa-play" id="playIcon"></i>
                        </button>
                        
                        <button class="control-btn" id="nextBtn" title="Next">
                            <i class="fas fa-step-forward"></i>
                        </button>
                        
                        <button class="control-btn" id="shuffleBtn" title="Shuffle">
                            <i class="fas fa-random"></i>
                        </button>
                    </div>
                    
                    <!-- Volume control -->
                    <div class="volume-control" id="volumeControl">
                        <div class="volume-icon" id="volumeIcon">
                            <i class="fas fa-volume-up"></i>
                        </div>
                        <div class="volume-slider" id="volumeSlider">
                            <div class="volume-progress" id="volumeProgress"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right side - Lyrics -->
            <div class="lyrics-side">
                <div class="lyrics-container" id="lyricsContainer">
                    <div class="lyrics-title" id="lyricsTitle">
                        <i class="fas fa-music"></i>
                        Lyrics
                        <i class="fas fa-music"></i>
                    </div>
                    <div class="lyrics-content" id="lyricsContent">
                        <!-- English version -->
                        <div class="lyrics-stanza" id="stanza1">
                            <div class="lyrics-line jp" id="line1">君が僕に見せてくれた</div>
                            <div class="lyrics-line en" id="line2">The world you showed me</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza2">
                            <div class="lyrics-line jp" id="line3">世界はとても綺麗だったな</div>
                            <div class="lyrics-line en" id="line4">It was so beautiful</div>
                            <div class="lyrics-line jp" id="line5">書架の隙間にしまう</div>
                            <div class="lyrics-line en" id="line6">Right in the gaps between the bookshelves</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza3">
                            <div class="lyrics-line jp" id="line7">一輪の花は</div>
                            <div class="lyrics-line en" id="line8">What lives is a flower</div>
                            <div class="lyrics-line jp" id="line9">僕には届かぬ存在で</div>
                            <div class="lyrics-line en" id="line10">An existence that I cannot reach</div>
                            <div class="lyrics-line jp" id="line11">言葉の奥にしまう</div>
                            <div class="lyrics-line en" id="line12">Living in the depths of words,</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza4">
                            <div class="lyrics-line jp" id="line13">本音の種はもう</div>
                            <div class="lyrics-line en" id="line14">The seeds of my true feelings are already here</div>
                            <div class="lyrics-line jp" id="line15">日の目も浴びずに枯れていた</div>
                            <div class="lyrics-line en" id="line16">But it withered without seeing the light of day.</div>
                            <div class="lyrics-line jp" id="line17">周りと比べてはまた</div>
                            <div class="lyrics-line en" id="line18">Always comparing myself to others</div>
                            <div class="lyrics-line jp" id="line19">自己嫌悪落ちてく</div>
                            <div class="lyrics-line en" id="line20">Self-hatred falls</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza5">
                            <div class="lyrics-line jp" id="line21">怖くなるんだそれでも</div>
                            <div class="lyrics-line en" id="line22">I'm afraid but yet</div>
                            <div class="lyrics-line jp" id="line23">君の全てに救われて</div>
                            <div class="lyrics-line en" id="line24">Everything about you lifts me up</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza6">
                            <div class="lyrics-line jp" id="line25">君が僕に見せてくれた</div>
                            <div class="lyrics-line en" id="line26">The world you showed me</div>
                            <div class="lyrics-line jp" id="line27">世界はとても綺麗だったな</div>
                            <div class="lyrics-line en" id="line28">That world was so beautiful</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza7">
                            <div class="lyrics-line jp" id="line29">まるで僕が僕じゃなくなっていく</div>
                            <div class="lyrics-line en" id="line30">It's like I'm not my old self anymore</div>
                            <div class="lyrics-line jp" id="line31">そんな日々もどこか愛おしくて</div>
                            <div class="lyrics-line en" id="line32">Even those days are somehow endearing</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza8">
                            <div class="lyrics-line jp" id="line33">また君に恋を知る</div>
                            <div class="lyrics-line en" id="line34">I'll fall in love with you again</div>
                            <div class="lyrics-line jp" id="line35">君の隣では何故だか前より</div>
                            <div class="lyrics-line en" id="line36">For some reason, I'm next to you more than before</div>
                            <div class="lyrics-line jp" id="line37">息が楽に思えるんだ</div>
                            <div class="lyrics-line en" id="line38">Compared to before, somehow, I feel like I can breathe easily</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza9">
                            <div class="lyrics-line jp" id="line39">些細な不安も高鳴る鼓動も</div>
                            <div class="lyrics-line en" id="line40">Even the trivial anxiety, my heart beats</div>
                            <div class="lyrics-line jp" id="line41">僕を走らせる魔法だ</div>
                            <div class="lyrics-line en" id="line42">It's the magic that makes me run</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza10">
                            <div class="lyrics-line jp" id="line43">君が僕に見せてくれた</div>
                            <div class="lyrics-line en" id="line44">The world you showed me</div>
                            <div class="lyrics-line jp" id="line45">世界はとても綺麗だったな</div>
                            <div class="lyrics-line en" id="line46">That world was so beautiful</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza11">
                            <div class="lyrics-line jp" id="line47">まるで僕が僕じゃなくなっていく</div>
                            <div class="lyrics-line en" id="line48">It's like I'm not my old self anymore</div>
                            <div class="lyrics-line jp" id="line49">そんな日々もどこか愛おしくて</div>
                            <div class="lyrics-line en" id="line50">Those days are somehow endearing</div>
                            <div class="lyrics-line jp" id="line51">ぶつけるんだ僕の全てを君に</div>
                            <div class="lyrics-line en" id="line52">I'm giving you everything I've got</div>
                        </div>
                        
                        <!-- Quote section -->
                        <div class="quote-section" id="quoteSection">
                            <div class="quote-jp" id="quote1">「空っぽで弱い自分から目を背け見たいものだけを見ていたあの頃</div>
                            <div class="quote-jp" id="quote2">僕は自分を特別だと思っていた当たり前と思っていた日常も</div>
                            <div class="quote-jp" id="quote3">君に出会ってからの僕にはまるで違う特別なものに思えた大袈裟だと君は笑うだろう</div>
                            <div class="quote-jp" id="quote4">でも本当なんだ今の僕を創ったのは他の誰でもない君だ 君なんだ」</div>
                            <div style="margin-top: 15px;" id="quote5">"I turned away from my empty weak self, back then, I only used to see only what I wanted to see.</div>
                            <div id="quote6">I thought I was special. I used to always take my everyday life for granted</div>
                            <div id="quote7">But ever since I met you, it seemed like something is completely different and special to me. You'll probably laugh saying I'm exaggerating.</div>
                            <div id="quote8">But it's true, you, no one else, made me who <b>I am</b> today."</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza12">
                            <div class="lyrics-line jp" id="line53">「ありがとう」 と素直に言えたのは</div>
                            <div class="lyrics-line en" id="line54">I was able to honestly say "Thank you" without hesitance</div>
                            <div class="lyrics-line jp" id="line55">君の笑顔がそばにあったからで</div>
                            <div class="lyrics-line en" id="line56">Because your smile was next to me</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza13">
                            <div class="lyrics-line jp" id="line57">いつしか僕の世界が広がったのは</div>
                            <div class="lyrics-line en" id="line58">Before I knew it, my world expanded</div>
                            <div class="lyrics-line jp" id="line59">君の言葉が僕を変えたから</div>
                            <div class="lyrics-line en" id="line60">Because your words changed me</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza14">
                            <div class="lyrics-line jp" id="line61">君が僕に見せてくれた</div>
                            <div class="lyrics-line en" id="line62">The world you showed me</div>
                            <div class="lyrics-line jp" id="line63">世界はずっと忘れないよ</div>
                            <div class="lyrics-line en" id="line64">The world that I will never forget</div>
                        </div>
                        
                        <div class="lyrics-stanza" id="stanza15">
                            <div class="lyrics-line jp" id="line65">まるで僕が僕じゃなくなっても</div>
                            <div class="lyrics-line en" id="line66">Even if I'm not my old self anymore</div>
                            <div class="lyrics-line jp" id="line67">そんな日々に君がいるのなら</div>
                            <div class="lyrics-line en" id="line68">If you are still here in such days</div>
                            <div class="lyrics-line jp" id="line69">永遠に僕ら恋をする</div>
                            <div class="lyrics-line en" id="line70">We'll fall inlove forever</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Personal message -->
        <div class="personal-message" id="personalMessage">
            <div class="message-title" id="messageTitle">
                <i class="fas fa-heart"></i> For Aya,
            </div>
            I remember when I used to recommend this song to you. Back then, I just liked how honest it felt — how it spoke about loving through distance, through uncertainty, through quiet struggles. I didn't realize I was also describing my own heart.<br><br>
            
            This song held me on the days I missed you quietly. It understood the challenges, the waiting, the way my feelings stayed even when things felt fragile. Every lyric felt like something I couldn't say out loud yet.<br><br>
            
            And now, when I listen to it, it's different.<br><br>
            
            It's not just a song I relate to anymore — it's you that I see.<br>
            Your face in the pauses. Your voice in the soft parts.<br>
            The way my love endured, even when things were unclear.<br><br>
            
            This song once carried my feelings for you in silence.<br>
            Now, it feels like proof that they survived.<br><br>
            
            Every time it plays, it's you.
        </div>
        
        <!-- Exit button to go back to OPTION.HTML -->
        <a href="option.html" class="exit-btn" id="exitBtn">
            <i class="fas fa-arrow-left"></i> Back to Options
        </a>
    </div>
    
    <!-- Audio element -->
    <audio id="audioPlayer" preload="metadata">
        <source src="bokuwa.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <script>
        // Create floating hearts and music notes
        function createHearts() {
            const container = document.getElementById('heartsContainer');
            
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = '❤';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = (Math.random() * 16 + 12) + 'px';
                heart.style.animationDelay = Math.random() * 6 + 's';
                container.appendChild(heart);
            }
            
            for (let i = 0; i < 12; i++) {
                const note = document.createElement('div');
                note.className = 'music-note';
                note.innerHTML = '♪';
                note.style.left = Math.random() * 100 + 'vw';
                note.style.fontSize = (Math.random() * 16 + 12) + 'px';
                note.style.animationDelay = Math.random() * 4 + 's';
                note.style.animationDuration = (Math.random() * 7 + 7) + 's';
                container.appendChild(note);
            }
        }
        
        // Image slideshow
        function initSlideshow() {
            const slides = document.querySelectorAll('.slide');
            let currentSlide = 0;
            
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 4000); // 3 sec show + 1 sec fade = 4 sec total
        }
        
        // Music player variables
        let isPlaying = false;
        let isRepeating = false;
        let isShuffled = false;
        let currentVolume = 0.8;
        
        // Elements to toggle Klein blue state
        const elementsWithPlayingClass = [
            'body',
            'pageTitle',
            'playerContainer',
            'coverSlideshow',
            'songTitle',
            'songArtist',
            'songArtistJp',
            'progressBar',
            'progress',
            'progressBuffer',
            'timeInfo',
            'volumeControl',
            'volumeIcon',
            'volumeSlider',
            'volumeProgress',
            'lyricsContainer',
            'lyricsTitle',
            'lyricsContent',
            'quoteSection',
            'personalMessage',
            'messageTitle',
            'decorationHearts',
            'exitBtn'
        ];
        
        // Stanza elements
        const stanzaElements = [
            'stanza1', 'stanza2', 'stanza3', 'stanza4', 'stanza5',
            'stanza6', 'stanza7', 'stanza8', 'stanza9', 'stanza10',
            'stanza11', 'stanza12', 'stanza13', 'stanza14', 'stanza15'
        ];
        
        // Line elements (JP and EN)
        const lineElements = [];
        for (let i = 1; i <= 70; i++) {
            lineElements.push(`line${i}`);
        }
        
        // Quote elements
        const quoteElements = ['quote1', 'quote2', 'quote3', 'quote4', 'quote5', 'quote6', 'quote7', 'quote8'];
        
        // Heart elements
        const heartElements = document.querySelectorAll('.heart, .music-note, .decoration-heart');
        
        // Wave bar elements
        const waveBars = document.querySelectorAll('.wave-bar');
        
        // Control buttons
        const controlBtns = document.querySelectorAll('.control-btn');
        
        // Function to apply playing state to all elements
        function applyPlayingState() {
            // Body
            document.body.classList.add('playing');
            
            // Page title
            document.getElementById('pageTitle').classList.add('playing');
            
            // Player container
            document.getElementById('playerContainer').classList.add('playing');
            
            // Cover slideshow
            document.getElementById('coverSlideshow').classList.add('playing');
            
            // Song info
            document.getElementById('songTitle').classList.add('playing');
            document.getElementById('songArtist').classList.add('playing');
            document.getElementById('songArtistJp').classList.add('playing');
            
            // Progress bar elements
            document.getElementById('progressBar').classList.add('playing');
            document.getElementById('progress').classList.add('playing');
            document.getElementById('progressBuffer').classList.add('playing');
            document.getElementById('timeInfo').classList.add('playing');
            
            // Volume control
            document.getElementById('volumeControl').classList.add('playing');
            document.getElementById('volumeIcon').classList.add('playing');
            document.getElementById('volumeSlider').classList.add('playing');
            document.getElementById('volumeProgress').classList.add('playing');
            
            // Lyrics container
            document.getElementById('lyricsContainer').classList.add('playing');
            document.getElementById('lyricsTitle').classList.add('playing');
            document.getElementById('lyricsContent').classList.add('playing');
            
            // Quote section
            document.getElementById('quoteSection').classList.add('playing');
            
            // Personal message
            document.getElementById('personalMessage').classList.add('playing');
            document.getElementById('messageTitle').classList.add('playing');
            
            // Decoration hearts
            document.getElementById('decorationHearts').classList.add('playing');
            
            // Exit button
            document.getElementById('exitBtn').classList.add('playing');
            
            // Stanzas
            stanzaElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.classList.add('playing');
            });
            
            // Lines
            lineElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.classList.add('playing');
            });
            
            // Quotes
            quoteElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.classList.add('playing');
            });
            
            // Hearts
            heartElements.forEach(element => {
                element.classList.add('playing');
            });
            
            // Wave bars
            waveBars.forEach(bar => {
                bar.classList.add('playing');
            });
            
            // Control buttons
            controlBtns.forEach(btn => {
                btn.classList.add('playing');
            });
        }
        
        // Function to remove playing state from all elements
        function removePlayingState() {
            // Body
            document.body.classList.remove('playing');
            
            // Page title
            document.getElementById('pageTitle').classList.remove('playing');
            
            // Player container
            document.getElementById('playerContainer').classList.remove('playing');
            
            // Cover slideshow
            document.getElementById('coverSlideshow').classList.remove('playing');
            
            // Song info
            document.getElementById('songTitle').classList.remove('playing');
            document.getElementById('songArtist').classList.remove('playing');
            document.getElementById('songArtistJp').classList.remove('playing');
            
            // Progress bar elements
            document.getElementById('progressBar').classList.remove('playing');
            document.getElementById('progress').classList.remove('playing');
            document.getElementById('progressBuffer').classList.remove('playing');
            document.getElementById('timeInfo').classList.remove('playing');
            
            // Volume control
            document.getElementById('volumeControl').classList.remove('playing');
            document.getElementById('volumeIcon').classList.remove('playing');
            document.getElementById('volumeSlider').classList.remove('playing');
            document.getElementById('volumeProgress').classList.remove('playing');
            
            // Lyrics container
            document.getElementById('lyricsContainer').classList.remove('playing');
            document.getElementById('lyricsTitle').classList.remove('playing');
            document.getElementById('lyricsContent').classList.remove('playing');
            
            // Quote section
            document.getElementById('quoteSection').classList.remove('playing');
            
            // Personal message
            document.getElementById('personalMessage').classList.remove('playing');
            document.getElementById('messageTitle').classList.remove('playing');
            
            // Decoration hearts
            document.getElementById('decorationHearts').classList.remove('playing');
            
            // Exit button
            document.getElementById('exitBtn').classList.remove('playing');
            
            // Stanzas
            stanzaElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.classList.remove('playing');
            });
            
            // Lines
            lineElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.classList.remove('playing');
            });
            
            // Quotes
            quoteElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.classList.remove('playing');
            });
            
            // Hearts
            heartElements.forEach(element => {
                element.classList.remove('playing');
            });
            
            // Wave bars
            waveBars.forEach(bar => {
                bar.classList.remove('playing');
            });
            
            // Control buttons
            controlBtns.forEach(btn => {
                btn.classList.remove('playing');
            });
        }
        
        // Initialize music player
        function initMusicPlayer() {
            const audioPlayer = document.getElementById('audioPlayer');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const playIcon = document.getElementById('playIcon');
            const progress = document.getElementById('progress');
            const progressBar = document.getElementById('progressBar');
            const currentTimeElement = document.getElementById('currentTime');
            const durationElement = document.getElementById('duration');
            const repeatBtn = document.getElementById('repeatBtn');
            const shuffleBtn = document.getElementById('shuffleBtn');
            const volumeSlider = document.getElementById('volumeSlider');
            const volumeProgress = document.getElementById('volumeProgress');
            const volumeIcon = document.getElementById('volumeIcon').querySelector('i');
            
            // Set initial volume
            audioPlayer.volume = currentVolume;
            volumeProgress.style.width = `${currentVolume * 100}%`;
            
            // Format time (seconds to mm:ss)
            function formatTime(seconds) {
                if (isNaN(seconds)) return "0:00";
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            }
            
            // Update progress bar and time
            function updateProgress() {
                const currentTime = audioPlayer.currentTime;
                const duration = audioPlayer.duration;
                
                if (!isNaN(duration)) {
                    const progressPercent = (currentTime / duration) * 100;
                    progress.style.width = `${progressPercent}%`;
                    currentTimeElement.textContent = formatTime(currentTime);
                }
            }
            
            // Set song duration when metadata is loaded
            audioPlayer.addEventListener('loadedmetadata', function() {
                durationElement.textContent = formatTime(audioPlayer.duration);
            });
            
            // Update progress as song plays
            audioPlayer.addEventListener('timeupdate', updateProgress);
            
            // Play/Pause functionality
            playPauseBtn.addEventListener('click', function() {
                if (isPlaying) {
                    pauseMusic();
                } else {
                    playMusic();
                }
            });
            
            // Click on progress bar to seek
            progressBar.addEventListener('click', function(e) {
                const rect = progressBar.getBoundingClientRect();
                const pos = (e.clientX - rect.left) / rect.width;
                audioPlayer.currentTime = pos * audioPlayer.duration;
            });
            
            // Repeat button
            repeatBtn.addEventListener('click', function() {
                isRepeating = !isRepeating;
                repeatBtn.classList.toggle('active', isRepeating);
                repeatBtn.title = isRepeating ? 'Repeat: ON' : 'Repeat: OFF';
            });
            
            // Shuffle button
            shuffleBtn.addEventListener('click', function() {
                isShuffled = !isShuffled;
                shuffleBtn.classList.toggle('active', isShuffled);
                shuffleBtn.title = isShuffled ? 'Shuffle: ON' : 'Shuffle: OFF';
            });
            
            // Volume control
            volumeSlider.addEventListener('click', function(e) {
                const rect = volumeSlider.getBoundingClientRect();
                const pos = (e.clientX - rect.left) / rect.width;
                currentVolume = Math.max(0, Math.min(1, pos));
                audioPlayer.volume = currentVolume;
                volumeProgress.style.width = `${currentVolume * 100}%`;
                
                if (currentVolume === 0) {
                    volumeIcon.className = 'fas fa-volume-mute';
                } else if (currentVolume < 0.5) {
                    volumeIcon.className = 'fas fa-volume-down';
                } else {
                    volumeIcon.className = 'fas fa-volume-up';
                }
            });
            
            // Song ended
            audioPlayer.addEventListener('ended', function() {
                if (isRepeating) {
                    audioPlayer.currentTime = 0;
                    playMusic();
                } else {
                    pauseMusic();
                }
            });
            
            // Play music function
            window.playMusic = function() {
                audioPlayer.play();
                isPlaying = true;
                playIcon.className = 'fas fa-pause';
                playPauseBtn.title = 'Pause';
                
                // Apply Klein blue gradient state to all elements
                applyPlayingState();
            };
            
            // Pause music function
            window.pauseMusic = function() {
                audioPlayer.pause();
                isPlaying = false;
                playIcon.className = 'fas fa-play';
                playPauseBtn.title = 'Play';
                
                // Remove Klein blue gradient state from all elements
                removePlayingState();
            };
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.code === 'Space') {
                    e.preventDefault();
                    if (isPlaying) {
                        pauseMusic();
                    } else {
                        playMusic();
                    }
                } else if (e.code === 'ArrowLeft') {
                    e.preventDefault();
                    audioPlayer.currentTime = Math.max(0, audioPlayer.currentTime - 5);
                } else if (e.code === 'ArrowRight') {
                    e.preventDefault();
                    audioPlayer.currentTime = Math.min(audioPlayer.duration, audioPlayer.currentTime + 5);
                }
            });
        }
        
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            createHearts();
            initSlideshow();
            initMusicPlayer();
        });
    </script>
</body>
</html>